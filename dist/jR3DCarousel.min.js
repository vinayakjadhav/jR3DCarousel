/**
 * Author: Vinayak Rangnathrao Jadhav
 * Project: jR3DCarousel
 * Version: 0.0.3
 **/
(function(k){"function"===typeof define&&define.amd?define(["jquery"],k):"object"===typeof exports?module.exports=k(require("jquery")):k(jQuery)})(function(k){k.fn.jR3DCarousel=function(z){function w(){this.animations={slide:A,slide3D:B,scroll:C,scroll3D:D,fade:E}}function p(){c.find(".nav").css({backgroundColor:"rgba(77, 77, 77, 0.4)"}).eq(h%g).css({backgroundColor:"rgba(07, 07, 07, 1)"});l=(Math.round(b/d)-1)%g;a.onSlideShow.call(this,e.find(".slide").eq((l+1)%g))}function A(a){c.css({perspective:"",
overflow:"hidden"});b=d*a;e.css({transform:"translateZ("+-f+"px) rotateY("+-b+"deg)"});p()}function B(a){c.css({perspective:t,overflow:"visible"});b=d*a;e.css({transform:"translateZ("+-f+"px) rotateY("+-b+"deg)"});p()}function C(a){c.css({perspective:"",overflow:"hidden"});b=d*a;e.css({transform:"translateZ("+-f+"px) rotateX("+-b+"deg)"});p()}function D(a){c.css({perspective:t,overflow:"visible"});b=d*a;e.css({transform:"translateZ("+-f+"px) rotateX("+-b+"deg)"});p()}function E(c){e.css({transition:"opacity 0ms"});
e.css({opacity:0});e.css("opacity");e.css({transition:"opacity "+a.animationDuration+"ms "+a.animationCurve});b=d*c;e.css({transform:"translateZ("+-f+"px) rotateY("+-b+"deg)",opacity:1});p()}function y(){c.width("100%");m=c.width()<a.width?c.width():a.width;u=m/G;c.css({width:m+"px",height:u+"px"})}var a=k.extend(!0,{},{width:1349,height:668,slides:[],slideLayout:"contain",animation:"slide",animationCurve:"ease",animationDuration:700,animationInterval:2E3,autoplay:!0,controls:!0,navigation:"circles",
onSlideShow:function(){}},z),c=this,m=a.width,u=a.height,G=a.width/a.height,e=k("<div class='jR3DCarousel' />").css({width:"100%",height:"100%",transition:"transform "+a.animationDuration+"ms "+a.animationCurve,transformStyle:"preserve-3d"}).appendTo(c),l=0,h=1,v=new w,q,r,x,d,b=0,f,t,n,g=a.slides.length||c.find(".slide").length;(function(){function F(){q=k("<div class='previous controls' style='left: 7px; transform: rotate(-45deg);'></div>");r=k("<div class='next controls' style='right: 7px; transform: rotate(135deg);'></div>");
q.add(r).appendTo(c).css({position:"absolute",top:"42%",zIndex:1,display:"inline-block",padding:"14px",boxShadow:"4px 4px 0 rgba(177,177,177,0.7) inset",cursor:"pointer"}).hide();q.on("click",function(){l=Math.round(b/d);h=l-1;v.run(a.animation,h)});r.on("click",function(){l=Math.round(b/d);h=l+1;v.run(a.animation,h)});c.hover(function(){q.add(r).fadeIn()},function(){q.add(r).fadeOut()});var e=!1,f=0,g;c.on("mousedown",function(a){a.preventDefault();e=!0;f=a.pageX;g=""}).on("mousemove",function(a){a.preventDefault();
e&&20<Math.abs(f-a.pageX)&&(g=f>a.pageX?"left":"right")}).on("mouseup",function(){e=!1;"left"==g?r.click():"right"==g&&q.click()})}function p(){for(var f=a.navigation,d=k("<div class=navigation />").css({position:"absolute",bottom:0,right:0}),b=0;b<g;b++)d.append("<div class=nav></div>");"circles"==f?d.find(".nav").css({border:"1px dashed #ccc",borderRadius:"12px"}):"squares"==f&&d.find(".nav").css({border:"1px ridge #fff"});d.find(".nav").css({display:"inline-block",margin:"5px",cursor:"pointer",
backgroundColor:"rgba(77, 77, 77, 0.7)",width:"12px",height:"12px"}).first().css({backgroundColor:"rgba(07, 07, 07, 1)"});e.after(d);c.on("click",".nav",function(){h=k(this).index();v.run(a.animation,h)})}function w(){x=setInterval(function(){l=Math.round(b/d);h=l+1;v.run(a.animation,h)},a.animationInterval+a.animationDuration);c.hover(function(){clearInterval(x)},function(){x=setInterval(function(){l=Math.round(b/d);h=l+1;v.run(a.animation,h)},a.animationInterval+a.animationDuration)})}(function(){-1!=
a.animation.indexOf("slide")?(f=m/2/Math.tan(Math.PI/g),t=m/2*Math.tan(2*Math.PI/g)+"px"):-1!=a.animation.indexOf("scroll")?(f=u/2/Math.tan(Math.PI/g),t=u/2*Math.tan(2*Math.PI/g)+"px"):"fade"==a.animation&&(f=m/2/Math.tan(Math.PI/g),t=m/2*Math.tan(2*Math.PI/g)+"px");d=360/g;if(a.slides.length)for(var b=0;b<a.slides.length;b++){var h=k("<div class='slide' data-index="+b+" />").append("<img src='"+a.slides[b].src+"' alt='"+a.slides[b].alt+"' />");-1!=a.animation.indexOf("slide")?n="rotateY("+d*b+"deg) translateZ("+
f+"px)":-1!=a.animation.indexOf("scroll")?n="rotateX("+d*b+"deg) translateZ("+f+"px)":"fade"==a.animation&&(n="rotateY("+d*b+"deg) translateZ("+f+"px)");h.css({transform:n});e.append(h)}else c.find(".slide").each(function(b){var c=k(this).attr("data-index",b);-1!=a.animation.indexOf("slide")?n="rotateY("+d*b+"deg) translateZ("+f+"px)":-1!=a.animation.indexOf("scroll")?n="rotateX("+d*b+"deg) translateZ("+f+"px)":"fade"==a.animation&&(n="rotateY("+d*b+"deg) translateZ("+f+"px)");c.css({transform:n}).detach();
e.append(c)});e.find(".slide").css({position:"absolute",left:0,top:0,width:"100%",height:"100%",backfaceVisibility:"hidden"});e.find(".slide img").css({width:"100%",height:"100%",objectFit:a.slideLayout});c.css({perspective:t,width:m+"px",height:u+"px",position:"relative",overflow:"visible"})})();a.controls&&F();a.navigation&&p();a.autoplay&&w();addEventListener("resize",y);y()})();w.prototype.run=function(a,b){this.animations[a](b)};this.showSlide=function(a){e.find(".nav").eq((a-1)%g).click()};
this.getCurrentSlide=function(){return e.find(".slide").eq(l)};this.getSlideByIndex=function(a){return e.find(".slide[data-index="+a+"]")};this.showPreviousSlide=function(){q.click()};this.showNextSlide=function(){r.click()};return this}});